<button class="btn btn-primary text-white" routerLink="setup">
  Start Quiz
</button>

<button class="btn btn-primary text-white" (click)="getQuestions()">
  Get Quiz
</button>
<div class="max-w-4xl mx-auto p-4">
  <h1 class="text-3xl font-bold mb-6 text-center">Quiz</h1>

  <ng-container *ngIf="quiz | async as questions">
    <div class="space-y-6">
      <div
        *ngIf="currentQuestionIndex < questions.length"
        class="bg-white shadow-md rounded-lg p-6 mb-4"
      >
        <h2 class="text-xl font-semibold mb-4">
          Question {{ currentQuestionIndex + 1 }}:
          {{ questions[currentQuestionIndex].question.text }}
        </h2>
        <div class="space-y-2">
          <p>
            <strong>Category:</strong>
            {{ questions[currentQuestionIndex].category }}
          </p>
          <p>
            <strong>Difficulty:</strong>
            <span
              [ngClass]="{
                'text-green-600':
                  questions[currentQuestionIndex].difficulty === 'easy',
                'text-yellow-600':
                  questions[currentQuestionIndex].difficulty === 'medium',
                'text-red-600':
                  questions[currentQuestionIndex].difficulty === 'hard'
              }"
            >
              {{ questions[currentQuestionIndex].difficulty }}
            </span>
          </p>
          <p>
            <strong>Correct Answer:</strong>
            {{ questions[currentQuestionIndex].correctAnswer }}
          </p>
          <div>
            <strong>Incorrect Answers:</strong>
            <ul class="list-disc list-inside ml-4">
              <li
                *ngFor="
                  let answer of questions[currentQuestionIndex].incorrectAnswers
                "
              >
                {{ answer }}
              </li>
            </ul>
          </div>
          <p>
            <strong>Tags:</strong>
            <span
              *ngFor="let tag of questions[currentQuestionIndex].tags"
              class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2"
            >
              {{ tag }}
            </span>
          </p>
          <p>
            <strong>Type:</strong> {{ questions[currentQuestionIndex].type }}
          </p>
          <p>
            <strong>Is Niche:</strong>
            {{ questions[currentQuestionIndex].isNiche ? 'Yes' : 'No' }}
          </p>
        </div>
        <button
          class="btn btn-primary text-white mt-4"
          (click)="goToNextQuestion()"
        >
          Next Question
        </button>
      </div>

      <div
        *ngIf="currentQuestionIndex >= questions.length"
        class="text-center text-gray-600"
      >
        Quiz completed! Thank you for participating.
      </div>
    </div>
  </ng-container>

  <div *ngIf="(quiz | async) === undefined" class="text-center text-gray-600">
    Loading quiz...
  </div>
</div>
